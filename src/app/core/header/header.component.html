<header class="main-header ">
  <div class="logo">
    <a routerLink="/">
      <img src="assets/icons/gaia.png" alt="GAIA" class="logo-img" />
    </a>
  </div>

  <!-- Botón hamburguesa visible solo en móvil -->
  <button class="menu-toggle" (click)="menuOpen = !menuOpen">☰</button>

  <!-- Menú navegable oculto en móvil hasta que se active -->
  <nav [class.active]="menuOpen">
    <ul>
      <li><a routerLink="/" [class.active]="isActiveRoute('/')">Inicio</a></li>

      <ng-container *ngIf="isLoggedIn$ | async; else anonLinks">
        <li><a routerLink="/user" [class.active]="isActiveRoute('/user')">Panel de Control</a></li>
      </ng-container>

      <ng-template #anonLinks>
        </ng-template >

        <!-- <li><a routerLink="/">Sobre Nosotros</a></li> -->
        <li><a routerLink="/plans" [class.active]="isActiveRoute('/plans')">Planes</a></li>

      <li><a routerLink="/support" [class.active]="isActiveRoute('/support')">Contacto y Soporte</a></li>
    </ul>
  </nav>

  <!-- Botones visibles siempre (fuera del toggle) -->
  <div class="actions">
    <ng-container *ngIf="isLoggedIn$ | async; else anonActions">
      
      <button class="icon-btn" routerLink="/notifications">
        <svg xmlns="http://www.w3.org/2000/svg"
        width="24" height="24" viewBox="0 0 24 24"
        fill="none" stroke="currentColor" stroke-width="2"
     stroke-linecap="round" stroke-linejoin="round">
  <!-- Cuerpo de la campana -->
  <path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9" />
  <!-- Palanca inferior -->
  <path d="M13.73 21a2 2 0 0 1-3.46 0" />
</svg>
</button>
<button class="icon-btn" routerLink="/user/profile">
              <svg xmlns="http://www.w3.org/2000/svg"
           width="" height="35" viewBox="0 0 64 64"
           fill="none" stroke-linecap="round" stroke-linejoin="round">
        <!-- Fondo circular -->
        <circle cx="32" cy="32" r="30" fill="#E8DFFF"/>
        <!-- Cabeza -->
        <circle cx="32" cy="24" r="8" stroke="currentColor" stroke-width="4" fill="none"/>
        <!-- Hombros -->
        <path d="M16 56a20 20 0 0 1 32 0" stroke="currentColor" stroke-width="4" fill="none"/>
      </svg>
      </button>
      <!-- Icono de logout para móvil -->
      <button (click)="logout()" class="icon-btn logout-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16,17 21,12 16,7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
      </button>
      <!-- Botón de logout para desktop -->
      <button (click)="logout()" class="btn-logout">Cerrar Sesión</button>
    </ng-container>

    <ng-template #anonActions>
      <button routerLink="/auth/register" class="btn-outline">Prueba Gratis</button>
      <button routerLink="/auth/login" class="btn-primary">Iniciar Sesión</button>
    </ng-template>
  </div>
</header>
